<!DOCTYPE html>
<html lang="vi">
{% load static %}
{% load currency_filters %}
<head>
    <meta charset="UTF-8">
    <title>Web Du L·ªãch</title>

    <!-- CSS th∆∞ vi·ªán -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- CSS custom -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="{% static 'css/index.css' %}">
</head>

<body>
<header class="header sticky-top bg-white shadow-sm">
    <div class="container">
        <nav class="navbar navbar-expand-lg px-4 py-2">
            <a class="navbar-brand fw-bold text-primary" href="{% url 'travel:home' %}">
                <i class="fa-solid fa-plane-departure me-2"></i>Du L·ªãch Vi·ªát
            </a>
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link active fw-bold" href="{% url 'travel:home' %}">
                        <i class="fa-solid fa-home me-1"></i>Trang ch·ªß
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'travel:search' %}">
                        <i class="fa-solid fa-search me-1"></i>T√¨m ki·∫øm
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#recommend-section">
                        <i class="fa-solid fa-star me-1"></i>G·ª£i √Ω
                    </a>
                </li>
            </ul>

            <!-- Khi ch∆∞a ƒëƒÉng nh·∫≠p -->
            <div id="authButtons" class="ms-auto d-flex align-items-center gap-2">
                <button class="btn btn-outline-primary btn-sm" id="showLoginBtn">
                    <i class="fa-solid fa-right-to-bracket me-1"></i>ƒêƒÉng nh·∫≠p
                </button>
                <button class="btn btn-primary btn-sm" id="showRegisterBtn">
                    <i class="fa-solid fa-user-plus me-1"></i>ƒêƒÉng k√Ω
                </button>
            </div>
            
            <!-- Khi ƒë√£ ƒëƒÉng nh·∫≠p -->
            <div id="userInfo" class="ms-auto d-flex align-items-center d-none">
                <div class="dropdown">
                    <button class="btn btn-light dropdown-toggle d-flex align-items-center" type="button" data-bs-toggle="dropdown">
                        <i class="bi bi-person-circle fs-4 me-2 text-primary"></i>
                        <span id="userDisplayName" class="fw-semibold"></span>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li><span class="dropdown-item-text text-muted small" id="userEmail"></span></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#"><i class="fa-solid fa-user me-2"></i>T√†i kho·∫£n</a></li>
                        <li><a class="dropdown-item" href="#"><i class="fa-solid fa-heart me-2"></i>Y√™u th√≠ch</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item text-danger" href="#" id="logoutBtn"><i class="fa-solid fa-sign-out me-2"></i>ƒêƒÉng xu·∫•t</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>
</header>

<main>
    <!-- Banner -->
    <section class="hero position-relative text-center">
        <img src="{% static 'images/banner.jpg' %}" class="hero-img">

        <!-- Thanh t√¨m ki·∫øm -->
        <div class="search-box container-fluid rounded-4 shadow-lg p-4 position-absolute top-50 start-50 translate-middle bg-white" style="max-width: 950px;">
            
            <!-- T√¨m ki·∫øm nhanh -->
            <div class="quick-search mb-4" style="overflow: visible;">
                <form method="GET" action="{% url 'travel:search' %}" class="position-relative" id="quickSearchForm" style="overflow: visible;">
                    <div class="input-group input-group-lg">
                        <span class="input-group-text bg-white border-end-0">
                            <i class="fa-solid fa-magnifying-glass text-primary"></i>
                        </span>
                        <input type="text" name="q" id="quickSearchInput" class="form-control border-start-0" 
                               placeholder="T√¨m ki·∫øm ƒë·ªãa ƒëi·ªÉm... (VD: H√† N·ªôi, Ch√πa M·ªôt C·ªôt, H·ªì Ho√†n Ki·∫øm)" 
                               autocomplete="off">
                        <button type="submit" class="btn btn-primary px-4">
                            <i class="fa-solid fa-search me-1"></i>T√¨m
                        </button>
                    </div>
                    <div id="quickSuggestions" class="autocomplete-box"></div>
                </form>
            </div>

            <!-- T√¨m ki·∫øm chi ti·∫øt -->
            <form class="row align-items-center gx-3 justify-content-center" method="GET" action="{% url 'travel:search' %}" id="detailSearchForm">
                <div class="col-md-3 position-relative" style="overflow: visible;">
                    <div class="input-group">
                        <span class="input-group-text bg-white">
                            <i class="fa-solid fa-location-dot text-primary"></i>
                        </span>
                        <input type="text" name="from_location" id="fromLocationInput" class="form-control" 
                               placeholder="V·ªã tr√≠ c·ªßa b·∫°n" autocomplete="off">
                    </div>
                    <div id="fromLocationSuggestions" class="autocomplete-box"></div>
                </div>

                <div class="col-md-3 position-relative" style="overflow: visible;">
                    <div class="input-group">
                        <span class="input-group-text bg-white">
                            <i class="fa-solid fa-map-location-dot text-primary"></i>
                        </span>
                        <input type="text" name="q" id="toLocationInput" class="form-control" 
                               placeholder="N∆°i mu·ªën ƒë·∫øn" autocomplete="off">
                    </div>
                    <div id="toLocationSuggestions" class="autocomplete-box"></div>
                </div>

                <div class="col-md-3">
                    <div class="input-group">
                        <span class="input-group-text bg-white">
                            <i class="fa-solid fa-calendar-days text-primary"></i>
                        </span>
                        <input type="date" name="travel_date" id="travelDateInput" class="form-control">
                    </div>
                </div>

                <div class="col-md-3">
                    <button type="submit" class="btn btn-warning w-100 fw-bold py-2">
                        <i class="fa-solid fa-route me-1"></i>T√¨m ki·∫øm chi ti·∫øt
                    </button>
                </div>
            </form>

            <!-- G·ª£i √Ω nhanh -->
            <div class="quick-links mt-3 text-center">
                <small class="text-muted me-2">ƒê·ªãa ƒëi·ªÉm ph·ªï bi·∫øn:</small>
                <a href="{% url 'travel:search' %}?q=H√† N·ªôi" class="badge bg-light text-dark me-2 text-decoration-none py-2 px-3">H√† N·ªôi</a>
                <a href="{% url 'travel:search' %}?q=TP H·ªì Ch√≠ Minh" class="badge bg-light text-dark me-2 text-decoration-none py-2 px-3">TP H·ªì Ch√≠ Minh</a>
                <a href="{% url 'travel:search' %}?q=ƒê√† N·∫µng" class="badge bg-light text-dark me-2 text-decoration-none py-2 px-3">ƒê√† N·∫µng</a>
                <a href="{% url 'travel:search' %}?q=ƒê√† L·∫°t" class="badge bg-light text-dark me-2 text-decoration-none py-2 px-3">ƒê√† L·∫°t</a>
            </div>
        </div>
    </section>

    <!-- L·ªãch s·ª≠ t√¨m ki·∫øm - Section ri√™ng -->
    <section id="searchHistorySection" class="search-history-section py-3 d-none">
        <div class="container">
            <div class="search-history-card bg-white rounded-4 shadow-sm p-4">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h5 class="mb-0 fw-bold">
                        <i class="fa-solid fa-clock-rotate-left text-primary me-2"></i>T√¨m ki·∫øm g·∫ßn ƒë√¢y
                    </h5>
                    <button type="button" class="btn btn-outline-danger btn-sm" id="clearAllHistory">
                        <i class="fa-solid fa-trash-can me-1"></i>X√≥a t·∫•t c·∫£
                    </button>
                </div>
                <div id="searchHistoryList" class="d-flex flex-wrap gap-2"></div>
            </div>
        </div>
    </section>

    <!-- Danh m·ª•c du l·ªãch -->
    <section class="categories bg-light py-4">
        <div class="container text-center">
            <h3 class="mb-4 fw-bold">Kh√°m ph√° theo danh m·ª•c</h3>
            <div class="row g-4">
                <div class="col">
                    <div class="category-card">
                        <i class="fa-solid fa-umbrella-beach fa-3x text-info"></i>
                        <p>Du l·ªãch bi·ªÉn ƒë·∫£o</p>
                    </div>
                </div>
                <div class="col">
                    <div class="category-card">
                        <i class="fa-solid fa-mountain fa-3x text-success"></i>
                        <p>Du l·ªãch n√∫i & cao nguy√™n</p>
                    </div>
                </div>
                <div class="col">
                    <div class="category-card">
                        <i class="fa-solid fa-landmark fa-3x text-warning"></i>
                        <p>VƒÉn h√≥a - l·ªãch s·ª≠</p>
                    </div>
                </div>
                <div class="col">
                    <div class="category-card">
                        <i class="fa-solid fa-leaf fa-3x text-success"></i>
                        <p>Du l·ªãch sinh th√°i</p>
                    </div>
                </div>
                <div class="col">
                    <div class="category-card">
                        <i class="fa-solid fa-utensils fa-3x text-danger"></i>
                        <p>·∫®m th·ª±c - ch·ª£ ƒë√™m</p>
                    </div>
                </div>
                <div class="col">
                    <div class="category-card">
                        <i class="fa-solid fa-gift fa-3x text-primary"></i>
                        <p>L·ªÖ h·ªôi - s·ª± ki·ªán</p>
                    </div>
                </div>
                <div class="col">
                    <div class="category-card">
                        <i class="fa-solid fa-city fa-3x text-secondary"></i>
                        <p>Th√†nh ph·ªë - ƒë√¥ th·ªã</p>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- G·ª£i √Ω c√° nh√¢n h√≥a -->
    {% if personalized_destinations %}
    <section class="recommend py-5 bg-white" id="personalized-section">
        <div class="container">
            <h2 class="fw-bold mb-3 text-center">
                <i class="fa-solid fa-heart text-primary me-2"></i>D√†nh ri√™ng cho b·∫°n
            </h2>
            <p class="text-muted mb-4 text-center">G·ª£i √Ω d·ª±a tr√™n s·ªü th√≠ch c·ªßa b·∫°n</p>
            <div class="row g-4">
                {% for dest in personalized_destinations %}
                <div class="col-md-4">
                    <div class="card h-100 shadow-sm border-primary">
                        <div class="position-relative">
                            {% if dest.image %}
                            <img src="{{ dest.image.url }}" class="card-img-top" alt="{{ dest.name }}" style="height: 200px; object-fit: cover;">
                            {% else %}
                            <div class="bg-secondary text-white d-flex align-items-center justify-content-center" style="height: 200px;">
                                <i class="fa-solid fa-image fa-3x"></i>
                            </div>
                            {% endif %}
                            <span class="badge bg-primary position-absolute top-0 end-0 m-2">
                                <i class="fa-solid fa-heart"></i> Ph√π h·ª£p v·ªõi b·∫°n
                            </span>
                        </div>
                        <div class="card-body">
                            <h5 class="card-title">{{ dest.name }}</h5>
                            <p class="text-muted small">
                                <i class="fa-solid fa-location-dot"></i> {{ dest.location }}
                            </p>
                            {% if dest.recommendation %}
                            <div class="mb-2">
                                <span class="text-warning">
                                    {% for i in "12345" %}
                                        {% if forloop.counter <= dest.recommendation.avg_rating %}‚òÖ{% else %}‚òÜ{% endif %}
                                    {% endfor %}
                                </span>
                                <small class="text-muted">({{ dest.recommendation.total_reviews }} ƒë√°nh gi√°)</small>
                            </div>
                            {% endif %}
                            <a href="{% url 'travel:destination_detail' dest.id %}" class="btn btn-outline-primary btn-sm w-100">
                                Xem chi ti·∫øt
                            </a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
    {% endif %}

    <!-- ƒê·ªãa ƒëi·ªÉm ƒë∆∞·ª£c g·ª£i √Ω cao -->
    {% if top_destinations %}
    <section class="recommend py-5 bg-light" id="recommend-section">
        <div class="container">
            <h2 class="fw-bold mb-3 text-center">
                <i class="fa-solid fa-star text-warning me-2"></i>ƒê·ªãa ƒëi·ªÉm ƒë∆∞·ª£c g·ª£i √Ω
            </h2>
            <p class="text-muted mb-4 text-center">D·ª±a tr√™n ƒë√°nh gi√° v√† ph√¢n t√≠ch AI</p>
            <div class="row g-4">
                {% for dest in top_destinations %}
                <div class="col-md-4">
                    <div class="card h-100 shadow-sm">
                        <div class="position-relative">
                            {% if dest.image %}
                            <img src="{{ dest.image.url }}" class="card-img-top" alt="{{ dest.name }}" style="height: 200px; object-fit: cover;">
                            {% else %}
                            <div class="bg-secondary text-white d-flex align-items-center justify-content-center" style="height: 200px;">
                                <i class="fa-solid fa-image fa-3x"></i>
                            </div>
                            {% endif %}
                            <span class="badge bg-success position-absolute top-0 end-0 m-2">
                                {{ dest.recommendation.overall_score|floatformat:0 }} ƒëi·ªÉm
                            </span>
                        </div>
                        <div class="card-body">
                            <h5 class="card-title">{{ dest.name }}</h5>
                            <p class="text-muted small">
                                <i class="fa-solid fa-location-dot"></i> {{ dest.location }}
                            </p>
                            <div class="mb-2">
                                <span class="text-warning">
                                    {% for i in "12345" %}
                                        {% if forloop.counter <= dest.recommendation.avg_rating %}‚òÖ{% else %}‚òÜ{% endif %}
                                    {% endfor %}
                                </span>
                                <small class="text-muted">({{ dest.recommendation.total_reviews }} ƒë√°nh gi√°)</small>
                            </div>
                            <p class="card-text small">{{ dest.description|truncatewords:15 }}</p>
                            <a href="{% url 'travel:destination_detail' dest.id %}" class="btn btn-outline-primary btn-sm w-100">
                                Xem chi ti·∫øt
                            </a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            <div class="text-center mt-4">
                <a href="{% url 'travel:search' %}" class="btn btn-primary">Xem t·∫•t c·∫£ ƒë·ªãa ƒëi·ªÉm</a>
            </div>
        </div>
    </section>
    {% endif %}

    <!-- G·ª£i √Ω ƒë·ªãa ƒëi·ªÉm t·ª´ th∆∞ m·ª•c ·∫£nh -->
    <section class="recommend py-5">
        <div class="container text-center">
            <h2 class="fw-bold mb-3">D·∫£i ƒê·∫•t H√¨nh Ch·ªØ S</h2>
            <p class="text-muted mb-4">Kh√°m ph√° Vi·ªát Nam theo c√°ch ri√™ng c·ªßa b·∫°n</p>
            <div class="row justify-content-center g-4">
                {% for r in results %}
                <div class="col-md-3">
                    <div class="card shadow-sm border-0 position-relative">
                        <div class="image-wrapper">
                            <img src="{% static 'images/' %}{{ r.images.0 }}" class="card-img-top" alt="{{ r.name }}">
                            <div class="image-overlay">
                                <div class="slideshow">
                                    {% for img in r.images %}
                                    <img src="{% static 'images/' %}{{ img }}" class="slide {% if forloop.first %}active{% endif %}">
                                    {% endfor %}
                                    <button class="prev">&#10094;</button>
                                    <button class="next">&#10095;</button>
                                </div>
                            </div>
                        </div>
                        <div class="card-body text-center">
                            <h5 class="card-title fw-bold">{{ r.name }}</h5>
                            <p class="card-text">{{ r.desc }}</p>
                            <button class="btn btn-outline-primary explore-btn">Kh√°m ph√° ngay</button>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
</main>


<footer class="footer">
    <div class="footer-container">
        <div class="footer-col">
            <h3>H·ªó tr·ª£</h3>
            <ul>
                <li>Ch√≠nh s√°ch kh√°ch h√†ng</li>
                <li>Ch√≠nh s√°ch b·∫£o h√†nh</li>
                <li>Ch√≠nh s√°ch v·∫≠n chuy·ªÉn</li>
                <li>Ch√≠nh s√°ch b·∫£o m·∫≠t</li>
            </ul>
        </div>
        <div class="footer-col">
            <h3>V·ªÅ ch√∫ng t√¥i</h3>
            <ul>
                <li>Gi·ªõi thi·ªáu</li>
            </ul>
        </div>
        <div class="footer-col">
            <h3>K·∫øt n·ªëi v·ªõi ch√∫ng t√¥i</h3>
            <p>Hotline: 10101010</p>
            <div class="footer-icons">
                <i class="fa-brands fa-facebook"></i>
                <i class="fa-brands fa-instagram"></i>
                <i class="fa-brands fa-tiktok"></i>
                <i class="fa-brands fa-xmark"></i>
            </div>
        </div>
    </div>
</footer>

<!-- Modal ƒëƒÉng k√Ω/ƒëƒÉng nh·∫≠p -->
<div class="modal fade" id="authModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content border-0 shadow-lg" style="border-radius: 16px; overflow: hidden;">
            
            <!-- Header -->
            <div class="modal-header border-0 text-white py-4" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                <div class="w-100 text-center">
                    <i class="fa-solid fa-plane-departure fa-2x mb-2"></i>
                    <h4 id="modalTitle" class="modal-title mb-0 fw-bold">ƒêƒÉng nh·∫≠p</h4>
                    <p class="mb-0 small opacity-75">Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi Du L·ªãch Vi·ªát</p>
                </div>
                <button type="button" class="btn-close btn-close-white position-absolute top-0 end-0 m-3" data-bs-dismiss="modal"></button>
            </div>

            <!-- Body -->
            <div class="modal-body p-4">
                <div id="authAlert" class="alert d-none" role="alert"></div>

                <!-- Form ƒêƒÉng nh·∫≠p -->
                <div id="loginForm">
                    <div class="mb-3">
                        <label for="loginEmail" class="form-label fw-semibold">
                            <i class="fa-solid fa-envelope text-muted me-1"></i>Email
                        </label>
                        <input type="email" class="form-control form-control-lg" id="loginEmail" 
                               placeholder="Nh·∫≠p email c·ªßa b·∫°n" style="border-radius: 10px;">
                    </div>
                    <div class="mb-3">
                        <label for="loginPassword" class="form-label fw-semibold">
                            <i class="fa-solid fa-lock text-muted me-1"></i>M·∫≠t kh·∫©u
                        </label>
                        <div class="input-group">
                            <input type="password" class="form-control form-control-lg" id="loginPassword" 
                                   placeholder="Nh·∫≠p m·∫≠t kh·∫©u" style="border-radius: 10px 0 0 10px;">
                            <button class="btn btn-outline-secondary" type="button" id="toggleLoginPassword" 
                                    style="border-radius: 0 10px 10px 0;">
                                <i class="fa-solid fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="rememberMe">
                            <label class="form-check-label small" for="rememberMe">Ghi nh·ªõ ƒëƒÉng nh·∫≠p</label>
                        </div>
                        <a href="#" id="forgotPasswordLink" class="small text-decoration-none">Qu√™n m·∫≠t kh·∫©u?</a>
                    </div>
                    
                    <button id="loginBtn" class="btn btn-primary btn-lg w-100 mb-3" style="border-radius: 10px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none;">
                        <i class="fa-solid fa-right-to-bracket me-2"></i>ƒêƒÉng nh·∫≠p
                    </button>
                    
                    <div class="text-center mb-3">
                        <span class="text-muted">ho·∫∑c ƒëƒÉng nh·∫≠p v·ªõi</span>
                    </div>
                    
                    <div class="d-flex gap-2 mb-3">
                        <button class="btn btn-outline-danger flex-fill" style="border-radius: 10px;" id="googleLoginBtn">
                            <i class="fa-brands fa-google me-2"></i>Google
                        </button>
                        <button class="btn btn-outline-primary flex-fill" style="border-radius: 10px;" id="facebookLoginBtn">
                            <i class="fa-brands fa-facebook me-2"></i>Facebook
                        </button>
                    </div>
                    
                    <div class="text-center">
                        <span class="text-muted">Ch∆∞a c√≥ t√†i kho·∫£n? </span>
                        <a href="#" id="showRegisterLink" class="fw-semibold text-decoration-none">ƒêƒÉng k√Ω ngay</a>
                    </div>
                </div>

                <!-- Form ƒêƒÉng k√Ω -->
                <div id="registerForm" class="d-none">
                    <div class="mb-3">
                        <label for="registerUsername" class="form-label fw-semibold">
                            <i class="fa-solid fa-user text-muted me-1"></i>T√™n hi·ªÉn th·ªã
                        </label>
                        <input type="text" class="form-control form-control-lg" id="registerUsername" 
                               placeholder="Nh·∫≠p t√™n c·ªßa b·∫°n" style="border-radius: 10px;">
                    </div>
                    <div class="mb-3">
                        <label for="registerEmail" class="form-label fw-semibold">
                            <i class="fa-solid fa-envelope text-muted me-1"></i>Email
                        </label>
                        <input type="email" class="form-control form-control-lg" id="registerEmail" 
                               placeholder="Nh·∫≠p email c·ªßa b·∫°n" style="border-radius: 10px;">
                    </div>
                    <div class="mb-3">
                        <label for="registerPassword" class="form-label fw-semibold">
                            <i class="fa-solid fa-lock text-muted me-1"></i>M·∫≠t kh·∫©u
                        </label>
                        <div class="input-group">
                            <input type="password" class="form-control form-control-lg" id="registerPassword" 
                                   placeholder="T·ªëi thi·ªÉu 6 k√Ω t·ª±" style="border-radius: 10px 0 0 10px;">
                            <button class="btn btn-outline-secondary" type="button" id="toggleRegisterPassword"
                                    style="border-radius: 0 10px 10px 0;">
                                <i class="fa-solid fa-eye"></i>
                            </button>
                        </div>
                        <div class="progress mt-2" style="height: 5px;">
                            <div id="passwordStrength" class="progress-bar" role="progressbar" style="width: 0%"></div>
                        </div>
                        <small id="passwordStrengthText" class="text-muted"></small>
                    </div>
                    <div class="mb-3">
                        <label for="registerConfirmPassword" class="form-label fw-semibold">
                            <i class="fa-solid fa-lock text-muted me-1"></i>X√°c nh·∫≠n m·∫≠t kh·∫©u
                        </label>
                        <input type="password" class="form-control form-control-lg" id="registerConfirmPassword" 
                               placeholder="Nh·∫≠p l·∫°i m·∫≠t kh·∫©u" style="border-radius: 10px;">
                    </div>
                    
                    <div class="form-check mb-3">
                        <input class="form-check-input" type="checkbox" id="agreeTerms">
                        <label class="form-check-label small" for="agreeTerms">
                            T√¥i ƒë·ªìng √Ω v·ªõi <a href="#" class="text-decoration-none">ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a> v√† 
                            <a href="#" class="text-decoration-none">Ch√≠nh s√°ch b·∫£o m·∫≠t</a>
                        </label>
                    </div>
                    
                    <button id="registerBtn" class="btn btn-success btn-lg w-100 mb-3" style="border-radius: 10px;">
                        <i class="fa-solid fa-user-plus me-2"></i>ƒêƒÉng k√Ω
                    </button>
                    
                    <div class="text-center">
                        <span class="text-muted">ƒê√£ c√≥ t√†i kho·∫£n? </span>
                        <a href="#" id="showLoginLink" class="fw-semibold text-decoration-none">ƒêƒÉng nh·∫≠p</a>
                    </div>
                </div>

                <!-- Form Qu√™n m·∫≠t kh·∫©u -->
                <div id="forgotPasswordForm" class="d-none">
                    <div class="text-center mb-4">
                        <i class="fa-solid fa-key fa-3x text-warning mb-3"></i>
                        <p class="text-muted">Nh·∫≠p email ƒë·ªÉ nh·∫≠n link ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u</p>
                    </div>
                    <div class="mb-3">
                        <input type="email" class="form-control form-control-lg" id="forgotEmail" 
                               placeholder="Nh·∫≠p email c·ªßa b·∫°n" style="border-radius: 10px;">
                    </div>
                    <button id="resetPasswordBtn" class="btn btn-warning btn-lg w-100 mb-3" style="border-radius: 10px;">
                        <i class="fa-solid fa-paper-plane me-2"></i>G·ª≠i y√™u c·∫ßu
                    </button>
                    <div class="text-center">
                        <a href="#" id="backToLoginLink" class="text-decoration-none">
                            <i class="fa-solid fa-arrow-left me-1"></i>Quay l·∫°i ƒëƒÉng nh·∫≠p
                        </a>
                    </div>
                </div>

                <!-- Form S·ªü th√≠ch -->
                <div id="preferencesForm" class="d-none">
                    <div class="text-center mb-4">
                        <i class="fa-solid fa-heart fa-3x text-danger mb-3"></i>
                        <h5 class="fw-bold">Ch·ªçn s·ªü th√≠ch c·ªßa b·∫°n</h5>
                        <p class="text-muted small">Gi√∫p ch√∫ng t√¥i g·ª£i √Ω ƒë·ªãa ƒëi·ªÉm ph√π h·ª£p</p>
                    </div>
                    
                    <div class="mb-4">
                        <label class="form-label fw-semibold">Lo·∫°i h√¨nh du l·ªãch y√™u th√≠ch:</label>
                        <div class="d-flex flex-wrap gap-2">
                            <input type="checkbox" class="btn-check" name="travelType" value="Bi·ªÉn" id="prefSea">
                            <label class="btn btn-outline-primary" for="prefSea">üèñÔ∏è Bi·ªÉn</label>
                            
                            <input type="checkbox" class="btn-check" name="travelType" value="N√∫i" id="prefMountain">
                            <label class="btn btn-outline-success" for="prefMountain">‚õ∞Ô∏è N√∫i</label>
                            
                            <input type="checkbox" class="btn-check" name="travelType" value="Th√†nh ph·ªë" id="prefCity">
                            <label class="btn btn-outline-info" for="prefCity">üèôÔ∏è Th√†nh ph·ªë</label>
                            
                            <input type="checkbox" class="btn-check" name="travelType" value="VƒÉn h√≥a" id="prefCulture">
                            <label class="btn btn-outline-warning" for="prefCulture">üèõÔ∏è VƒÉn h√≥a</label>
                        </div>
                    </div>

                    <div class="mb-4">
                        <label class="form-label fw-semibold">ƒê·ªãa ƒëi·ªÉm quan t√¢m:</label>
                        <div class="d-flex flex-wrap gap-2">
                            <input type="checkbox" class="btn-check" name="locations" value="H√† N·ªôi" id="locHN">
                            <label class="btn btn-outline-secondary" for="locHN">H√† N·ªôi</label>
                            
                            <input type="checkbox" class="btn-check" name="locations" value="H·ªì Ch√≠ Minh" id="locHCM">
                            <label class="btn btn-outline-secondary" for="locHCM">TP.HCM</label>
                            
                            <input type="checkbox" class="btn-check" name="locations" value="ƒê√† N·∫µng" id="locDN">
                            <label class="btn btn-outline-secondary" for="locDN">ƒê√† N·∫µng</label>
                            
                            <input type="checkbox" class="btn-check" name="locations" value="ƒê√† L·∫°t" id="locDL">
                            <label class="btn btn-outline-secondary" for="locDL">ƒê√† L·∫°t</label>
                            
                            <input type="checkbox" class="btn-check" name="locations" value="Nha Trang" id="locNT">
                            <label class="btn btn-outline-secondary" for="locNT">Nha Trang</label>
                        </div>
                    </div>

                    <button id="savePreferencesBtn" class="btn btn-success btn-lg w-100" style="border-radius: 10px;">
                        <i class="fa-solid fa-check me-2"></i>Ho√†n t·∫•t ƒëƒÉng k√Ω
                    </button>
                    
                    <button id="skipPreferencesBtn" class="btn btn-link w-100 mt-2 text-muted">
                        B·ªè qua, ƒë·ªÉ sau
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- JS th∆∞ vi·ªán -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- JS custom -->
<script src="{% static 'js/index.js' %}"></script>
</body>
</html>
